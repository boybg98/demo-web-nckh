<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test N√∫t ƒê√£ Nh·ªõ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .flashcard {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .button-group button {
            margin: 4px;
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-remember {
            background-color: #28a745;
            color: white;
        }

        .btn-review {
            background-color: #ffc107;
            color: black;
        }
        
        .progress {
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
            margin: 10px 0;
        }
        
        .console {
            background: #1e1e1e;
            color: #0f0;
            padding: 10px;
            margin-top: 20px;
            border-radius: 4px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        
        .console-log {
            margin: 2px 0;
        }
        
        h1 {
            color: #333;
        }
    </style>
</head>
<body>
    <h1>üß™ Test N√∫t ƒê√£ Nh·ªõ</h1>
    <p>H√£y b·∫•m c√°c n√∫t "ƒê√£ nh·ªõ" ƒë·ªÉ ki·ªÉm tra xem ho·∫°t ƒë·ªông hay kh√¥ng</p>
    
    <div class="test-section">
        <h2>Section: Body</h2>
        <div id="progress-body" class="progress">Ti·∫øn ƒë·ªô: 0%</div>
        
        <div class="flashcard">
            <div class="word">head - ƒë·∫ßu</div>
            <div class="button-group">
                <button class="btn-remember" data-section="body">ƒê√£ nh·ªõ</button>
                <button class="btn-review" data-section="body">√în l·∫°i</button>
            </div>
        </div>
        
        <div class="flashcard">
            <div class="word">eye - m·∫Øt</div>
            <div class="button-group">
                <button class="btn-remember" data-section="body">ƒê√£ nh·ªõ</button>
                <button class="btn-review" data-section="body">√în l·∫°i</button>
            </div>
        </div>
        
        <div class="flashcard">
            <div class="word">mouth - mi·ªáng</div>
            <div class="button-group">
                <button class="btn-remember" data-section="body">ƒê√£ nh·ªõ</button>
                <button class="btn-review" data-section="body">√în l·∫°i</button>
            </div>
        </div>
    </div>
    
    <div class="console" id="console"></div>
    
    <script>
        const sectionProgress = {
            body: { remembered: 0, total: 0 },
        };

        function log(message) {
            const console_div = document.getElementById('console');
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'console-log';
            entry.textContent = `[${timestamp}] ${message}`;
            console_div.appendChild(entry);
            console_div.scrollTop = console_div.scrollHeight;
        }

        function initializeButtons() {
            log('‚úÖ B·∫Øt ƒë·∫ßu kh·ªüi t·∫°o buttons');
            
            // ƒê·∫øm t·ªïng s·ªë t·ª´ m·ªói section
            document.querySelectorAll('.flashcard').forEach((card, index) => {
                const section = card.querySelector('.btn-remember')?.dataset.section;
                if (section && sectionProgress[section]) {
                    sectionProgress[section].total++;
                    log(`üìç Th√™m flashcard #${index + 1} v√†o section: ${section}`);
                }
            });

            log(`üìä T·ªïng t·ª´ body: ${sectionProgress.body.total}`);

            // G·∫Øn s·ª± ki·ªán cho n√∫t "ƒê√£ nh·ªõ"
            document.querySelectorAll('.btn-remember').forEach((button, index) => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    const section = this.dataset.section;
                    log(`üñ±Ô∏è B·∫•m "ƒê√£ nh·ªõ" (button #${index + 1}) - section: ${section}`);
                    
                    if (!this.classList.contains('counted') && sectionProgress[section]) {
                        sectionProgress[section].remembered++;
                        this.classList.add('counted');
                        this.style.backgroundColor = '#1e7e34';
                        this.textContent = '‚úÖ ƒê√£ nh·ªõ';
                        updateProgress(section);
                        log(`‚ú® ƒê√£ nh·ªõ! (${sectionProgress[section].remembered}/${sectionProgress[section].total})`);
                    } else {
                        log(`‚ö†Ô∏è Button ƒë√£ ƒë∆∞·ª£c ch·ªçn ho·∫∑c section kh√¥ng t·ªìn t·∫°i`);
                    }
                });
            });

            // G·∫Øn s·ª± ki·ªán cho n√∫t "√în l·∫°i"
            document.querySelectorAll('.btn-review').forEach((button, index) => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    const card = this.closest('.flashcard');
                    const rememberButton = card.querySelector('.btn-remember');
                    const section = rememberButton.dataset.section;
                    
                    log(`üîÑ B·∫•m "√în l·∫°i" (button #${index + 1}) - section: ${section}`);
                    
                    if (rememberButton.classList.contains('counted') && sectionProgress[section]) {
                        sectionProgress[section].remembered--;
                        rememberButton.classList.remove('counted');
                        rememberButton.style.backgroundColor = '#28a745';
                        rememberButton.textContent = 'ƒê√£ nh·ªõ';
                        updateProgress(section);
                        log(`üîÑ B·ªè t√≠ch! (${sectionProgress[section].remembered}/${sectionProgress[section].total})`);
                    } else {
                        log(`‚ö†Ô∏è Button ch∆∞a ƒë∆∞·ª£c ch·ªçn`);
                    }
                });
            });
            
            log('‚úÖ Kh·ªüi t·∫°o xong!');
        }

        function updateProgress(section) {
            const progress = sectionProgress[section];
            const percent = Math.round((progress.remembered / progress.total) * 100);
            const progressElement = document.getElementById(`progress-${section}`);
            if (progressElement) {
                progressElement.textContent = `Ti·∫øn ƒë·ªô: ${percent}%`;
                log(`üìà C·∫≠p nh·∫≠t ti·∫øn ƒë·ªô: ${percent}%`);
            }
        }

        // Kh·ªüi t·∫°o khi trang t·∫£i
        window.addEventListener('DOMContentLoaded', initializeButtons);
    </script>
</body>
</html>
