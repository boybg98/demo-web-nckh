<!DOCTYPE html>
<html>
    <head>
       <title>Check body</title>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <link rel ="stylesheet" href="./css/fonttest.css">
       <script src="./js/main.js" defer></script>
    </head>
    <body>
       <div id="upgrade-level" style="margin-top: 20px;"></div>
        <h1>Check test body</h1>
<input type="hidden" id="h_val" value="0">
<input type="hidden" id="m_val" value="3">
<input type="hidden" id="s_val" value="0">
<div>
  Th·ªùi gian c√≤n l·∫°i: 
  <span id="h">0</span>:
  <span id="m">03</span>:
  <span id="s">00</span>
</div>

<form method="post">
    <fieldset>
        <legend>Experience</legend>
        <h2>Choose the correct option</h2>
        <ol>
            <li>
                head c√≥ nghƒ©a l√† ?<br>
                <label><input name="answer1" type="radio" value="A"> m·∫Øt</label>
                <label><input name="answer1" type="radio" value="B"> ƒë·∫ßu</label>
                <label><input name="answer1" type="radio" value="C"> tai</label>
                <label><input name="answer1" type="radio" value="D"> tay</label>
            </li>
            <br>
            <li>
                eye c√≥ nghƒ©a l√† g√¨ ?<br>
                <label><input name="answer2" type="radio" value="A"> m·∫Øt</label>
                <label><input name="answer2" type="radio" value="B"> ƒë·∫ßu</label>
                <label><input name="answer2" type="radio" value="C"> tai</label>
                <label><input name="answer2" type="radio" value="D"> tay</label>
            </li>
            <br>
            <li>
                mouth c√≥ nghƒ©a l√† g√¨ ?<br>
                <label><input name="answer3" type="radio" value="A"> m·∫Øt</label>
                <label><input name="answer3" type="radio" value="B"> mi·ªáng</label>
                <label><input name="answer3" type="radio" value="C"> ƒë·∫ßu</label>
                <label><input name="answer3" type="radio" value="D"> ch√¢n</label>
            </li>
            <br>
            <li>
                face c√≥ nghƒ©a l√† g√¨ ?<br>
                <label><input name="answer4" type="radio" value="A"> ƒë·∫ßu</label>
                <label><input name="answer4" type="radio" value="B"> khu√¥n m·∫∑t</label>
                <label><input name="answer4" type="radio" value="C"> tai</label>
                <label><input name="answer4" type="radio" value="D"> m·∫∑t</label>
            </li>
            <br>
            <li>
                stomach c√≥ nghƒ©a l√† g√¨ ?<br>
                <label><input name="answer5" type="radio" value="A"> b·ª•ng</label>
                <label><input name="answer5" type="radio" value="B"> ƒë·∫ßu</label>
                <label><input name="answer5" type="radio" value="C"> l∆∞ng</label>
                <label><input name="answer5" type="radio" value="D"> m·∫∑t</label>
            </li>
        </ol>
    </fieldset>
    <fieldset>
        <legend>FILL</legend>
        <h2>Fill in the blank </h2>
        <ol>
            <li>ƒë·∫ßu:<input name ="q1" placeholder="keys" type="text"></li>
            <li>tai:<input name ="q2" placeholder="keys" type="text"></li>
            <li>khu√¥n m·∫∑t:<input name ="q3" placeholder="keys" type="text"></li>
            <li>b·ª•ng:<input name ="q4" placeholder="keys" type="text"></li>
            <li>mi·ªáng:<input name ="q5" placeholder="keys" type="text"></li>
        </ol>
    </fieldset>

    <button type="submit">N·ªôp b√†i</button>
    
  </form>
  <button id="btn-home" style="margin-top: 20px;">üè† Quay v·ªÅ trang ch·ªß</button>

<div id="test1-result"></div>
<script>
document.querySelector('form')?.addEventListener('submit', function(e) {
  e.preventDefault();

  const answers = {
    answer1: "B",
    answer2: "A",
    answer3: "B",
    answer4: "D",
    answer5: "A"
  };

  const fillAnswers = {
    q1: "head",
    q2: "ear",
    q3: "face",
    q4: "stomach",
    q5: "mouth"
  };

  let score = 0;

  // Tr·∫Øc nghi·ªám
  for (let i = 1; i <= 5; i++) {
    const inputs = this.querySelectorAll(`input[name="answer${i}"]`);
    inputs.forEach(input => {
      const label = input.parentElement;
      label.style.color = "black";
      if (input.checked) {
        if (input.value === answers[`answer${i}`]) {
          label.style.color = "green";
          score++;
        } else {
          label.style.color = "red";
        }
      }
    });
  }

  // ƒêi·ªÅn t·ª´
  Object.keys(fillAnswers).forEach(key => {
    const input = this[key];
    input.style.border = "2px solid transparent";
    if (input.value.trim().toLowerCase() === fillAnswers[key]) {
      input.style.border = "2px solid green";
      score++;
    } else {
      input.style.border = "2px solid red";
    }
  });

  document.getElementById('test1-result').innerHTML = `<strong>B·∫°n ƒë∆∞·ª£c ${score}/10 ƒëi·ªÉm.</strong>`;

  if (score >= 9) {
   window.location.href = `checkpoint.html?score=${score}&level=Trung b√¨nh`;

  } else {
    alert(`B·∫°n ƒë√£ ƒë∆∞·ª£c ${score} ƒëi·ªÉm. B·∫°n c·∫ßn √≠t nh·∫•t 9 ƒëi·ªÉm ƒë·ªÉ n√¢ng c·∫•p c·∫•p ƒë·ªô.`);
  }

  isSubmitted = true;
});

let isSubmitted = false;

document.getElementById("btn-home").addEventListener("click", function() {
  if (!isSubmitted) {
    const confirmLeave = confirm("B·∫°n ch∆∞a ho√†n th√†nh b√†i ki·ªÉm tra. B·∫°n v·∫´n mu·ªën r·ªùi kh·ªèi trang web n√†y?");
    if (!confirmLeave) return;
  }
  window.location.href = "index.html";
});
</script>

</body>
</html>
<style>
  input[type="text"] {
  transition: border 0.3s ease;
}
label {
  transition: color 0.3s ease;
}
#btn-home {
  padding: 10px 20px;
  font-size: 16px;
  background-color: #2196f3;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
#btn-home:hover {
  background-color: #1976d2;
}

</style>


    </body>
</html>

